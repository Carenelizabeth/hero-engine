<!DOCTYPE html>
<html>
<head>
    <script src="../node_modules/phaser/dist/phaser.min.js"></script>
</head>
<body>

<script>
    var config = {
        type: Phaser.AUTO,
        width: 1200,
        height: 929,
        scene: {
            preload: preload,
            create: create,
            update: update,
        }
    };

    var game = new Phaser.Game(config);
    let targetImg;
    let direction = 8;

    function preload ()
    {
        this.load.image('room1_img', '../draft/room1.png');
        this.load.tilemapTiledJSON('map', '../draft/justroomimage.json');

        this.load.image('target', '../draft/target.png');
    }

    function create ()
    {
        let map = this.make.tilemap({ key: 'map' });

        let tiles = map.addTilesetImage('room1', 'room1_img');

        map.createStaticLayer('room_map', tiles, 0, 0);

        targetImg = this.add.image(300, 464.5, 'target');

        this.cameras.main.setBounds(0, 0, 2400, 929);
        this.cameras.main.startFollow(targetImg);
    }

    function update() {
        if (targetImg.x >= 2000)
            direction *= -1;
        else if (targetImg.x < 300)
            direction *= -1;

        targetImg.x += direction;
    }
</script>

</body>
</html>
